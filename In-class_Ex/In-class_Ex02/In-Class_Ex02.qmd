---
title: "In-Class Exercise 2"
author: "Alicia Loh"
date: "April 20, 2024"
date-modified: last-modified
execute: 
  eval: true
  echo: true
  warning: false
  freeze: true
---

# Getting Started

## Loading R packages

Note: Ensure that the [pacman](https://cran.r-project.org/web/packages/pacman/) package has already been installed.

The code chunk below uses [`p_load()`](https://www.rdocumentation.org/packages/pacman/versions/0.5.1/topics/p_load) of pacman package to load the tidyverse family of packages.

```{r}
pacman::p_load(tidyverse, ggdist, ggthemes, ggridges, colorspace)
```

## Importing the Data

-   The code chunk below imports *Exam_data.csv* into R environment by using [*read_csv()*](https://readr.tidyverse.org/reference/read_delim.html) function of [**readr**](https://readr.tidyverse.org/) package.

-   **readr** is one of the tidyverse package.

```{r}
exam_df <- read_csv("data/Exam_data.csv")
```

**exam_data contains:**

-   Year end examination grades of a cohort of primary 3 students from a local school.

-   There are a total of seven attributes. Four of them are categorical data type and the other three are in continuous data type.

    -   The categorical attributes are: ID, CLASS, GENDER and RACE.

    -   The continuous attributes are: MATHS, ENGLISH and SCIENCE.

# ggplot

[ggplot2](https://ggplot2.tidyverse.org/) is an R package for **declaratively** creating **data-driven** graphics based on ***The Grammar of Graphics***. It is also part of the tidyverse family specially designed for visual exploration and communication.

```{r}
ggplot(data=exam_df, aes(x = ENGLISH)) +
  geom_histogram(bins=10, 
                 boundary = 100,
                 color="black", 
                 fill="skyblue") +
  ggtitle("Distribution of English scores")
```

# Probability Density Plot

More appropriate method to represent continuous values

```{r}
ggplot(data=exam_df, aes(x = ENGLISH)) +
  geom_density(color="skyblue", 
               adjust = .65,
               alpha = .1) +
  ggtitle("Probability Density Plot of English scores")
```

# Alternative Design

```{r}
median_eng <- median(exam_df$ENGLISH)
mean_eng <- mean(exam_df$ENGLISH)
std_eng <- sd(exam_df$ENGLISH)


ggplot(data=exam_df, aes(x = ENGLISH)) +
  geom_density(color="skyblue", 
               adjust = .65,
               alpha = .1) +
  stat_function(
    fun = dnorm,
    args = list(mean = mean_eng, sd = std_eng),
    col = "gray",
    size = .8) +
  geom_vline(
    aes(xintercept = mean_eng),
    colour = "darkgreen",
    linewidth = .6,
    linetype = "dashed") +
  annotate(geom = "text",
           x = mean_eng -8,
           y = .04,
           label = paste0("Mean ENGLISH: ",
                          round((mean_eng),2)),
           colour="darkgreen") +
  geom_vline(
    aes(xintercept = median_eng),
    colour = "navy",
    linewidth = .6,
    linetype = "dashed") +
  annotate(geom = "text",
           x = mean_eng -8,
           y = .04,
           label = paste0("Mean ENGLISH: ",
                          round((mean_eng),2)),
           colour="navy") +
  ggtitle("Comparison of English scores")
```
