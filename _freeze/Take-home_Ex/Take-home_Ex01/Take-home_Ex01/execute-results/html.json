{
  "hash": "8cb338cbfb00148be35d8940bd14eb46",
  "result": {
    "markdown": "---\ntitle: \"Take-home Exercise 1 - Creating Data Visualisation Beyond Default\"\nauthor: \"Alicia Loh\"\n\ndate-modified: last-modified\nexecute: \n  eval: true\n  echo: true\n  warning: false\n  freeze: true\n---\n\n\n![](images/clipboard-3122103337.png){width=\"700\"}\n\n# **Context**\n\nThere are two major residential property market in Singapore, namely public and private housing. Public housing aims to meet the basic need of the general public with monthly household income less than or equal to S\\$14,000. For families with monthly household income more than S\\$14,000, they need to turn to the private residential market.\n\n# **The Task**\n\nAssuming the role of a graphical editor of a median company, a minimum two and maximum three of data visualisations are prepared to reveal the private residential market and sub-markets of Singapore for the 1st quarter of 2024.\n\n# **The Data**\n\n![](images/clipboard-3619198007.png){width=\"177\"}\n\nTo accomplish the task, transaction data of [REALIS](https://www.ura.gov.sg/reis/index) will be used.\n\n## Downloading the Dataset\n\n1.  Access Dataset via [**SMU e-library**](https://www-ura-gov-sg.libproxy.smu.edu.sg/reis/ipLoginNotice)\\\n    [![](images/clipboard-1634732179.png)](images/clipboard-1634732179.png)\n\n2.  After logging in with SMU credentials, navigate to \"**Residential**\" tab\\\n    [![](images/clipboard-3969337604.png)](images/clipboard-3969337604.png)\n\n3.  Under **Property Types**, \"Select All\"\n\n4.  Under **Sale Date**, select \"2023 Jan\" - \"2024 Mar\"\n\n5.  Click \"Search\"\n\n6.  Click \"Download\"\n\n7.  Due to the size of the dataset, it is split into multiple segments. Download all in .csv format\\\n    [![](images/clipboard-2283550883.png)](images/clipboard-2283550883.png)\n\n## **The Designing Tool**\n\nThe data will be processed using the appropriate **tidyverse** family of packages and the statistical graphics will be prepared using **ggplot2** and its extensions.\n\n# Getting Started\n\n## Installing and loading the required libraries\n\nNote: Ensure that the [pacman](https://cran.r-project.org/web/packages/pacman/) package has already been installed.\n\nThe code chunk below loads the following packages using uses `p_load()` of pacman package:\n\n-   [**tidyverse**](https://www.tidyverse.org/): (i.e. readr, tidyr, [dplyr](https://dplyr.tidyverse.org/), [ggplot2](https://ggplot2.tidyverse.org/), [lubridate](https://lubridate.tidyverse.org/)) for performing data science tasks such as importing, tidying, and wrangling data, as well as creating graphics based on The Grammar of Graphics\n\n-   [**reshape2**](https://seananderson.ca/2013/10/19/reshape/) for transforming data between wide and long formats\n\n-   [**ggthemes**](https://ggplot2.tidyverse.org/reference/ggtheme.html): provides some extra themes, geoms, and scales for ‘ggplot2’.\n\n-   [**ggdist**](https://mjskay.github.io/ggdist/): a ggplot2 extension specially designed for visualising distribution and uncertainty\n\n-   [**patchwork**](https://patchwork.data-imaginist.com/articles/guides/assembly.html): an R package for preparing composite figure created using ggplot2.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse, reshape2, ggthemes, ggdist, patchwork)\n```\n:::\n\n\n## Importing the Data\n\n-   The data has been split into multiple .csv files\n\n-   **`list.files()`** list all CSV files in the specified directory.\n\n-   After looping through each CSV file, read it into a data frame using **`read_csv()`**, and store it in a list.\n\n-   **`bind_rows()`** combines all data frames in the list into a single big data frame.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncsv_directory <- \"data/\"\ncsv_files <- list.files(csv_directory, pattern = \"\\\\.csv$\", full.names = TRUE)\n\nrealis <- list()\n\nfor (file in csv_files) {\n  realis[[file]] <- read_csv(file)\n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrealis_all <- bind_rows(realis)\n```\n:::\n\n\n## View Data\n\n-   **`names()`** function prints the names of the columns in the tibble data frame.\n-   **`glimpse()`** function gives a quick overview of the tibble data frame\n\n::: panel-tabset\n## Column Names\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncol_names <- names(realis_all)\ncol_names\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Project Name\"                \"Transacted Price ($)\"       \n [3] \"Area (SQFT)\"                 \"Unit Price ($ PSF)\"         \n [5] \"Sale Date\"                   \"Address\"                    \n [7] \"Type of Sale\"                \"Type of Area\"               \n [9] \"Area (SQM)\"                  \"Unit Price ($ PSM)\"         \n[11] \"Nett Price($)\"               \"Property Type\"              \n[13] \"Number of Units\"             \"Tenure\"                     \n[15] \"Completion Date\"             \"Purchaser Address Indicator\"\n[17] \"Postal Code\"                 \"Postal District\"            \n[19] \"Postal Sector\"               \"Planning Region\"            \n[21] \"Planning Area\"              \n```\n:::\n:::\n\n\n## Overview of Tibble Data Frame\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(realis_all)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 26,806\nColumns: 21\n$ `Project Name`                <chr> \"THE REEF AT KING'S DOCK\", \"URBAN TREASU…\n$ `Transacted Price ($)`        <dbl> 2317000, 1823500, 1421112, 1258112, 1280…\n$ `Area (SQFT)`                 <dbl> 882.65, 882.65, 1076.40, 1033.34, 871.88…\n$ `Unit Price ($ PSF)`          <dbl> 2625, 2066, 1320, 1218, 1468, 1767, 1095…\n$ `Sale Date`                   <chr> \"01 Jan 2023\", \"02 Jan 2023\", \"02 Jan 20…\n$ Address                       <chr> \"12 HARBOURFRONT AVENUE #05-32\", \"205 JA…\n$ `Type of Sale`                <chr> \"New Sale\", \"New Sale\", \"New Sale\", \"New…\n$ `Type of Area`                <chr> \"Strata\", \"Strata\", \"Strata\", \"Strata\", …\n$ `Area (SQM)`                  <dbl> 82.0, 82.0, 100.0, 96.0, 81.0, 308.7, 42…\n$ `Unit Price ($ PSM)`          <dbl> 28256, 22238, 14211, 13105, 15802, 19015…\n$ `Nett Price($)`               <chr> \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", …\n$ `Property Type`               <chr> \"Condominium\", \"Condominium\", \"Executive…\n$ `Number of Units`             <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ Tenure                        <chr> \"99 yrs from 12/01/2021\", \"Freehold\", \"9…\n$ `Completion Date`             <chr> \"Uncompleted\", \"Uncompleted\", \"Uncomplet…\n$ `Purchaser Address Indicator` <chr> \"HDB\", \"Private\", \"HDB\", \"HDB\", \"HDB\", \"…\n$ `Postal Code`                 <chr> \"097996\", \"419535\", \"269343\", \"269294\", …\n$ `Postal District`             <chr> \"04\", \"14\", \"27\", \"27\", \"28\", \"19\", \"10\"…\n$ `Postal Sector`               <chr> \"09\", \"41\", \"26\", \"26\", \"79\", \"54\", \"27\"…\n$ `Planning Region`             <chr> \"Central Region\", \"East Region\", \"North …\n$ `Planning Area`               <chr> \"Bukit Merah\", \"Bedok\", \"Yishun\", \"Yishu…\n```\n:::\n:::\n\n:::\n\n::: callout-note\n**realis_all contains:**\n\n-   Public and Private residential property transaction data from 1st January 2023 to 31st March 2024.\n\n-   There are 26,806 rows and 21 columns.\n:::\n\n## Data Preparation\n\n### Standardise Date Format\n\nThe \"Sales Date\" column is currently a *cha* type. It needs to be converted into date format.\n\n**`dmy()`** is a function from the [**lubridate**](https://lubridate.tidyverse.org/) package that converts character strings to date format in the day-month-year (DMY) order.\n\n::: panel-tabset\n## Standardise Date Format\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrealis_all$`Sale Date` <- dmy(realis_all$`Sale Date`)\n```\n:::\n\n\n## View Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(realis_all$`Sale Date`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"2023-01-01\" \"2023-01-02\" \"2023-01-02\" \"2023-01-02\" \"2023-01-03\"\n[6] \"2023-01-03\"\n```\n:::\n:::\n\n:::\n\n### Keep Relevant Rows\n\nDuplicate and empty rows are removed.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nqa_pte_raw <- realis_all %>%\n    distinct() %>%\n    drop_na()\n```\n:::\n\n\n#### View Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(qa_pte_raw)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 26,800\nColumns: 21\n$ `Project Name`                <chr> \"THE REEF AT KING'S DOCK\", \"URBAN TREASU…\n$ `Transacted Price ($)`        <dbl> 2317000, 1823500, 1421112, 1258112, 1280…\n$ `Area (SQFT)`                 <dbl> 882.65, 882.65, 1076.40, 1033.34, 871.88…\n$ `Unit Price ($ PSF)`          <dbl> 2625, 2066, 1320, 1218, 1468, 1767, 1095…\n$ `Sale Date`                   <date> 2023-01-01, 2023-01-02, 2023-01-02, 202…\n$ Address                       <chr> \"12 HARBOURFRONT AVENUE #05-32\", \"205 JA…\n$ `Type of Sale`                <chr> \"New Sale\", \"New Sale\", \"New Sale\", \"New…\n$ `Type of Area`                <chr> \"Strata\", \"Strata\", \"Strata\", \"Strata\", …\n$ `Area (SQM)`                  <dbl> 82.0, 82.0, 100.0, 96.0, 81.0, 308.7, 42…\n$ `Unit Price ($ PSM)`          <dbl> 28256, 22238, 14211, 13105, 15802, 19015…\n$ `Nett Price($)`               <chr> \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", …\n$ `Property Type`               <chr> \"Condominium\", \"Condominium\", \"Executive…\n$ `Number of Units`             <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ Tenure                        <chr> \"99 yrs from 12/01/2021\", \"Freehold\", \"9…\n$ `Completion Date`             <chr> \"Uncompleted\", \"Uncompleted\", \"Uncomplet…\n$ `Purchaser Address Indicator` <chr> \"HDB\", \"Private\", \"HDB\", \"HDB\", \"HDB\", \"…\n$ `Postal Code`                 <chr> \"097996\", \"419535\", \"269343\", \"269294\", …\n$ `Postal District`             <chr> \"04\", \"14\", \"27\", \"27\", \"28\", \"19\", \"10\"…\n$ `Postal Sector`               <chr> \"09\", \"41\", \"26\", \"26\", \"79\", \"54\", \"27\"…\n$ `Planning Region`             <chr> \"Central Region\", \"East Region\", \"North …\n$ `Planning Area`               <chr> \"Bukit Merah\", \"Bedok\", \"Yishun\", \"Yishu…\n```\n:::\n:::\n\n\n::: callout-note\n**qa_pte_raw contains:**\n\n-   Private residential property transaction data from 1st January 2023 to 31st March 2024\n\n-   There are 26,800 rows and 21 columns.\n:::\n\n### Keep Relevant Columns\n\nNot all 21 columns will be used for analysis e.g. contains overlapping information as another column. Only relevant columns will be kept.\n\nColumns to drop:\n\n-   Area (SQFT): Similar information as Area (SQM)\n\n-   Unit Price (\\$ PSF): Similar information as Unit Price (\\$ PSM)\n\n-   Nett Price (\\$): Similar information as Transacted Price (\\$)\n\n-   Postal District and Postal Sector: Overlapping information as Postal Code\n\nColumns to be dropped can be specified by prefixing the column names with a minus sign (-) when using the **`select()`** function from the **`dplyr`** package.\n\n::: panel-tabset\n## Keep Relevant Columns\n\n\n::: {.cell}\n\n```{.r .cell-code}\nqa_pte <- qa_pte_raw %>%\n    select(\n        -`Area (SQFT)`,\n        -`Unit Price ($ PSF)`,\n        -`Postal District`,\n        -`Postal Sector`\n    )\n```\n:::\n\n\n## View Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(qa_pte)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 26,800\nColumns: 17\n$ `Project Name`                <chr> \"THE REEF AT KING'S DOCK\", \"URBAN TREASU…\n$ `Transacted Price ($)`        <dbl> 2317000, 1823500, 1421112, 1258112, 1280…\n$ `Sale Date`                   <date> 2023-01-01, 2023-01-02, 2023-01-02, 202…\n$ Address                       <chr> \"12 HARBOURFRONT AVENUE #05-32\", \"205 JA…\n$ `Type of Sale`                <chr> \"New Sale\", \"New Sale\", \"New Sale\", \"New…\n$ `Type of Area`                <chr> \"Strata\", \"Strata\", \"Strata\", \"Strata\", …\n$ `Area (SQM)`                  <dbl> 82.0, 82.0, 100.0, 96.0, 81.0, 308.7, 42…\n$ `Unit Price ($ PSM)`          <dbl> 28256, 22238, 14211, 13105, 15802, 19015…\n$ `Nett Price($)`               <chr> \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", …\n$ `Property Type`               <chr> \"Condominium\", \"Condominium\", \"Executive…\n$ `Number of Units`             <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ Tenure                        <chr> \"99 yrs from 12/01/2021\", \"Freehold\", \"9…\n$ `Completion Date`             <chr> \"Uncompleted\", \"Uncompleted\", \"Uncomplet…\n$ `Purchaser Address Indicator` <chr> \"HDB\", \"Private\", \"HDB\", \"HDB\", \"HDB\", \"…\n$ `Postal Code`                 <chr> \"097996\", \"419535\", \"269343\", \"269294\", …\n$ `Planning Region`             <chr> \"Central Region\", \"East Region\", \"North …\n$ `Planning Area`               <chr> \"Bukit Merah\", \"Bedok\", \"Yishun\", \"Yishu…\n```\n:::\n:::\n\n:::\n\n::: callout-note\n**qa_pte contains:**\n\n-   Private residential property transaction data from 1st January 2024 to 31st March 2024\n\n-   There are 26,800 rows and 14 columns.\n\n-   Columns:\n\n    -   Project Name\n\n    -   Transacted Price (\\$)\n\n    -   Sale Date\n\n    -   Address\n\n    -   Type of Sale\n\n    -   Type of Area\n\n    -   Area (SQM)\n\n    -   Unit Price (\\$ PSM)\n\n    -   Nett Price\n\n    -   Property Type\n\n    -   Number of Units\n\n    -   Tenure\n\n    -   Completion Date\n\n    -   Purchaser Address Indicator\n\n    -   Postal Code\n\n    -   Planning Region\n\n    -   Planning Area\n:::\n\n### Separate Data by Quarters\n\nThe dataset contains 5 quarters:\n\n-   Quarter 1: 2023 Jan - Mar\n\n-   Quarter 2: 2023 Apr - Jun\n\n-   Quarter 3: 2023 Jul - Sep\n\n-   Quarter 4: 2023 Aug - Dec\n\n-   Quarter 5: 2024 Jan - Mar\n\nTo allow for comparison between quarters, qa_pte will be split into the respective quarters by `Sale Date`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq1 <- qa_pte %>%\n  filter(`Sale Date` <= \"2023-03-31\")\n\nq2 <- qa_pte %>%\n  filter(`Sale Date` > \"2023-03-31\" & `Sale Date` <= \"2023-06-30\")\n\nq3 <- qa_pte %>%\n  filter(`Sale Date` > \"2023-06-30\" & `Sale Date` <= \"2023-09-30\")\n\nq4 <- qa_pte %>%\n  filter(`Sale Date` > \"2023-09-30\" & `Sale Date` <= \"2023-12-31\")\n\nq5 <- qa_pte %>%\n  filter(`Sale Date` > \"2023-12-31\")\n```\n:::\n\n\n### View Data\n\n::: panel-tabset\n## Q1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(q1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 4,722\nColumns: 17\n$ `Project Name`                <chr> \"THE REEF AT KING'S DOCK\", \"URBAN TREASU…\n$ `Transacted Price ($)`        <dbl> 2317000, 1823500, 1421112, 1258112, 1280…\n$ `Sale Date`                   <date> 2023-01-01, 2023-01-02, 2023-01-02, 202…\n$ Address                       <chr> \"12 HARBOURFRONT AVENUE #05-32\", \"205 JA…\n$ `Type of Sale`                <chr> \"New Sale\", \"New Sale\", \"New Sale\", \"New…\n$ `Type of Area`                <chr> \"Strata\", \"Strata\", \"Strata\", \"Strata\", …\n$ `Area (SQM)`                  <dbl> 82.0, 82.0, 100.0, 96.0, 81.0, 308.7, 42…\n$ `Unit Price ($ PSM)`          <dbl> 28256, 22238, 14211, 13105, 15802, 19015…\n$ `Nett Price($)`               <chr> \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", …\n$ `Property Type`               <chr> \"Condominium\", \"Condominium\", \"Executive…\n$ `Number of Units`             <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ Tenure                        <chr> \"99 yrs from 12/01/2021\", \"Freehold\", \"9…\n$ `Completion Date`             <chr> \"Uncompleted\", \"Uncompleted\", \"Uncomplet…\n$ `Purchaser Address Indicator` <chr> \"HDB\", \"Private\", \"HDB\", \"HDB\", \"HDB\", \"…\n$ `Postal Code`                 <chr> \"097996\", \"419535\", \"269343\", \"269294\", …\n$ `Planning Region`             <chr> \"Central Region\", \"East Region\", \"North …\n$ `Planning Area`               <chr> \"Bukit Merah\", \"Bedok\", \"Yishun\", \"Yishu…\n```\n:::\n:::\n\n\n## Q2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(q2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Project Name       Transacted Price ($)   Sale Date         \n Length:6125        Min.   :  520000     Min.   :2023-04-01  \n Class :character   1st Qu.: 1268000     1st Qu.:2023-04-24  \n Mode  :character   Median : 1688000     Median :2023-05-13  \n                    Mean   : 2116310     Mean   :2023-05-13  \n                    3rd Qu.: 2350000     3rd Qu.:2023-05-31  \n                    Max.   :66800000     Max.   :2023-06-30  \n   Address          Type of Sale       Type of Area         Area (SQM)    \n Length:6125        Length:6125        Length:6125        Min.   :  30.0  \n Class :character   Class :character   Class :character   1st Qu.:  63.0  \n Mode  :character   Mode  :character   Mode  :character   Median :  89.0  \n                                                          Mean   : 106.7  \n                                                          3rd Qu.: 119.0  \n                                                          Max.   :2339.0  \n Unit Price ($ PSM) Nett Price($)      Property Type      Number of Units \n Min.   : 3364      Length:6125        Length:6125        Min.   : 1.000  \n 1st Qu.:14838      Class :character   Class :character   1st Qu.: 1.000  \n Median :19787      Mode  :character   Mode  :character   Median : 1.000  \n Mean   :20665                                            Mean   : 1.002  \n 3rd Qu.:26390                                            3rd Qu.: 1.000  \n Max.   :57053                                            Max.   :11.000  \n    Tenure          Completion Date    Purchaser Address Indicator\n Length:6125        Length:6125        Length:6125                \n Class :character   Class :character   Class :character           \n Mode  :character   Mode  :character   Mode  :character           \n                                                                  \n                                                                  \n                                                                  \n Postal Code        Planning Region    Planning Area     \n Length:6125        Length:6125        Length:6125       \n Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character  \n                                                         \n                                                         \n                                                         \n```\n:::\n:::\n\n\n## Q3\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(q3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Project Name       Transacted Price ($)   Sale Date         \n Length:6200        Min.   :  440000     Min.   :2023-07-01  \n Class :character   1st Qu.: 1280000     1st Qu.:2023-07-15  \n Mode  :character   Median : 1642500     Median :2023-08-05  \n                    Mean   : 2017893     Mean   :2023-08-09  \n                    3rd Qu.: 2255250     3rd Qu.:2023-08-31  \n                    Max.   :32000000     Max.   :2023-09-30  \n   Address          Type of Sale       Type of Area         Area (SQM)   \n Length:6200        Length:6200        Length:6200        Min.   : 30.0  \n Class :character   Class :character   Class :character   1st Qu.: 67.0  \n Mode  :character   Mode  :character   Mode  :character   Median : 91.0  \n                                                          Mean   :105.7  \n                                                          3rd Qu.:119.0  \n                                                          Max.   :995.0  \n Unit Price ($ PSM) Nett Price($)      Property Type      Number of Units\n Min.   : 2158      Length:6200        Length:6200        Min.   :1      \n 1st Qu.:15071      Class :character   Class :character   1st Qu.:1      \n Median :19048      Mode  :character   Mode  :character   Median :1      \n Mean   :19857                                            Mean   :1      \n 3rd Qu.:24048                                            3rd Qu.:1      \n Max.   :59949                                            Max.   :2      \n    Tenure          Completion Date    Purchaser Address Indicator\n Length:6200        Length:6200        Length:6200                \n Class :character   Class :character   Class :character           \n Mode  :character   Mode  :character   Mode  :character           \n                                                                  \n                                                                  \n                                                                  \n Postal Code        Planning Region    Planning Area     \n Length:6200        Length:6200        Length:6200       \n Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character  \n                                                         \n                                                         \n                                                         \n```\n:::\n:::\n\n\n## Q4\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(q4)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Project Name       Transacted Price ($)   Sale Date         \n Length:4851        Min.   :  570000     Min.   :2023-10-01  \n Class :character   1st Qu.: 1285000     1st Qu.:2023-10-25  \n Mode  :character   Median : 1649340     Median :2023-11-11  \n                    Mean   : 2147366     Mean   :2023-11-13  \n                    3rd Qu.: 2370000     3rd Qu.:2023-12-04  \n                    Max.   :33888000     Max.   :2023-12-31  \n   Address          Type of Sale       Type of Area         Area (SQM)    \n Length:4851        Length:4851        Length:4851        Min.   :  30.0  \n Class :character   Class :character   Class :character   1st Qu.:  67.0  \n Mode  :character   Mode  :character   Mode  :character   Median :  96.0  \n                                                          Mean   : 110.7  \n                                                          3rd Qu.: 122.0  \n                                                          Max.   :1423.1  \n Unit Price ($ PSM) Nett Price($)      Property Type      Number of Units\n Min.   : 1484      Length:4851        Length:4851        Min.   :1.000  \n 1st Qu.:14900      Class :character   Class :character   1st Qu.:1.000  \n Median :18846      Mode  :character   Mode  :character   Median :1.000  \n Mean   :19682                                            Mean   :1.001  \n 3rd Qu.:23492                                            3rd Qu.:1.000  \n Max.   :47026                                            Max.   :7.000  \n    Tenure          Completion Date    Purchaser Address Indicator\n Length:4851        Length:4851        Length:4851                \n Class :character   Class :character   Class :character           \n Mode  :character   Mode  :character   Mode  :character           \n                                                                  \n                                                                  \n                                                                  \n Postal Code        Planning Region    Planning Area     \n Length:4851        Length:4851        Length:4851       \n Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character  \n                                                         \n                                                         \n                                                         \n```\n:::\n:::\n\n\n## Q5\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(q5)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Project Name       Transacted Price ($)   Sale Date         \n Length:4902        Min.   :  555000     Min.   :2024-01-01  \n Class :character   1st Qu.: 1330000     1st Qu.:2024-01-26  \n Mode  :character   Median : 1688000     Median :2024-02-17  \n                    Mean   : 2100902     Mean   :2024-02-16  \n                    3rd Qu.: 2300000     3rd Qu.:2024-03-14  \n                    Max.   :39500000     Max.   :2024-03-31  \n   Address          Type of Sale       Type of Area         Area (SQM)    \n Length:4902        Length:4902        Length:4902        Min.   :  30.0  \n Class :character   Class :character   Class :character   1st Qu.:  71.0  \n Mode  :character   Mode  :character   Mode  :character   Median :  94.0  \n                                                          Mean   : 111.5  \n                                                          3rd Qu.: 120.7  \n                                                          Max.   :1816.6  \n Unit Price ($ PSM) Nett Price($)      Property Type      Number of Units\n Min.   : 6183      Length:4902        Length:4902        Min.   :1      \n 1st Qu.:15237      Class :character   Class :character   1st Qu.:1      \n Median :18688      Mode  :character   Mode  :character   Median :1      \n Mean   :19502                                            Mean   :1      \n 3rd Qu.:23548                                            3rd Qu.:1      \n Max.   :58099                                            Max.   :2      \n    Tenure          Completion Date    Purchaser Address Indicator\n Length:4902        Length:4902        Length:4902                \n Class :character   Class :character   Class :character           \n Mode  :character   Mode  :character   Mode  :character           \n                                                                  \n                                                                  \n                                                                  \n Postal Code        Planning Region    Planning Area     \n Length:4902        Length:4902        Length:4902       \n Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character  \n                                                         \n                                                         \n                                                         \n```\n:::\n:::\n\n:::\n\n# Visualisation\n\nThere are various types of Properties for Private residences.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nunique(qa_pte$`Property Type`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Condominium\"           \"Executive Condominium\" \"Terrace House\"        \n[4] \"Semi-Detached House\"   \"Apartment\"             \"Detached House\"       \n```\n:::\n:::\n\n\nThe different types in the dataset are:\n\n-   Condominium\n\n-   Terrace House\n\n-   Apartment\n\n-   Executive Condominium\n\n-   Semi-Detached House\n\n-   Detached House\n\n## Number of Units Sold\n\nCreate bar chart plots for the price distribution of each private residence property type. A bar chart or graph that presents categorical data with rectangular bars with heights or lengths proportional to the values that they represent. They can be plotted vertically or horizontally.\n\nFor each quarter, the data is grouped by property type, then summed by the number of units, in order to obtain the number of units sold per quarter.\n\n### Summarise Number of Units Sold by Property Type\n\n::: panel-tabset\n## Q1 2023\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq1_units <- q1 %>%\n  group_by(`Property Type`) %>%\n  summarize(`Total Units` = sum(`Number of Units`), .groups = \"drop\")\nq1_units\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  `Property Type`       `Total Units`\n  <chr>                         <dbl>\n1 Apartment                      1662\n2 Condominium                    2267\n3 Detached House                   64\n4 Executive Condominium           535\n5 Semi-Detached House              88\n6 Terrace House                   212\n```\n:::\n:::\n\n\n## Q2 2023\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq2_units <- q2 %>%\n  group_by(`Property Type`) %>%\n  summarize(`Total Units` = sum(`Number of Units`), .groups = \"drop\")\nq2_units\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  `Property Type`       `Total Units`\n  <chr>                         <dbl>\n1 Apartment                      2664\n2 Condominium                    2451\n3 Detached House                   50\n4 Executive Condominium           620\n5 Semi-Detached House             129\n6 Terrace House                   226\n```\n:::\n:::\n\n\n## Q3 2023\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq3_units <- q3 %>%\n  group_by(`Property Type`) %>%\n  summarize(`Total Units` = sum(`Number of Units`), .groups = \"drop\")\nq3_units\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  `Property Type`       `Total Units`\n  <chr>                         <dbl>\n1 Apartment                      2578\n2 Condominium                    2250\n3 Detached House                   34\n4 Executive Condominium           954\n5 Semi-Detached House             127\n6 Terrace House                   259\n```\n:::\n:::\n\n\n## Q4 2023\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq4_units <- q4 %>%\n  group_by(`Property Type`) %>%\n  summarize(`Total Units` = sum(`Number of Units`), .groups = \"drop\")\nq4_units\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  `Property Type`       `Total Units`\n  <chr>                         <dbl>\n1 Apartment                      2028\n2 Condominium                    1918\n3 Detached House                   42\n4 Executive Condominium           582\n5 Semi-Detached House              90\n6 Terrace House                   197\n```\n:::\n:::\n\n\n## Q1 2024\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq5_units <- q5 %>%\n  group_by(`Property Type`) %>%\n  summarize(`Total Units` = sum(`Number of Units`), .groups = \"drop\")\nq5_units\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  `Property Type`       `Total Units`\n  <chr>                         <dbl>\n1 Apartment                      1853\n2 Condominium                    1858\n3 Detached House                   40\n4 Executive Condominium           843\n5 Semi-Detached House              93\n6 Terrace House                   216\n```\n:::\n:::\n\n:::\n\nThe code chunk below plots the number of units by property type for each quarter.\n\n::: panel-tabset\n## 2023 Q1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq1_mean <- mean(q1_units$`Total Units`)\n\nq1_plot <- ggplot(q1_units, aes(x = `Property Type`, y = `Total Units`)) +\n  geom_bar(stat = \"identity\") +\n  labs(x = \"Property Type\", y = \"Total Units Sold\") +\n  ggtitle(\"Q1 2023\") +\n  ylim(0, 2700) +\n  theme_economist() +\n  theme(axis.text.x = element_text(angle = 90)) +\n  geom_hline(yintercept = q1_mean, color = \"navy\", linetype = \"dashed\") +\n  annotate(geom = \"text\", x = 5, y = q1_mean + 100, \n           label = paste(\"Mean:\", round(q1_mean, 2)), color = \"navy\")\n\nq1_plot\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n\n## 2023 Q2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq2_mean <- mean(q2_units$`Total Units`)\n\nq2_plot <- ggplot(q2_units, aes(x = `Property Type`, y = `Total Units`)) +\n  geom_bar(stat = \"identity\") +\n  labs(x = \"Property Type\", y = \"Total Units Sold\") +\n  ggtitle(\"Q2 2023\") +\n  ylim(0, 2700) +\n  theme_economist() +\n  theme(axis.text.x = element_text(angle = 90)) +\n  geom_hline(yintercept = q2_mean, color = \"navy\", linetype = \"dashed\") +\n  annotate(geom = \"text\", x = 5, y = q2_mean + 100, \n           label = paste(\"Mean:\", round(q2_mean, 2)), color = \"navy\")\n\nq2_plot\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\n## 2023 Q3\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq3_mean <- mean(q3_units$`Total Units`)\n\nq3_plot <- ggplot(q3_units, aes(x = `Property Type`, y = `Total Units`)) +\n  geom_bar(stat = \"identity\") +\n  labs(x = \"Property Type\", y = \"Total Units Sold\") +\n  ggtitle(\"Q3 2023\") +\n  ylim(0, 2700) +\n  theme_economist() +\n  theme(axis.text.x = element_text(angle = 90)) +\n  geom_hline(yintercept = q3_mean, color = \"navy\", linetype = \"dashed\") +\n  annotate(geom = \"text\", x = 5, y = q3_mean + 100, \n           label = paste(\"Mean:\", round(q3_mean, 2)), color = \"navy\")\n\nq3_plot\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n:::\n\n\n## 2023 Q4\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq4_mean <- mean(q4_units$`Total Units`)\n\nq4_plot <- ggplot(q4_units, aes(x = `Property Type`, y = `Total Units`)) +\n  geom_bar(stat = \"identity\") +\n  labs(x = \"Property Type\", y = \"Total Units Sold\") +\n  ggtitle(\"Q4 2023\") +\n  ylim(0, 2700) +\n  theme_economist() +\n  theme(axis.text.x = element_text(angle = 90)) +\n  geom_hline(yintercept = q4_mean, color = \"navy\", linetype = \"dashed\") +\n  annotate(geom = \"text\", x = 5, y = q4_mean + 100, \n           label = paste(\"Mean:\", round(q4_mean, 2)), color = \"navy\")\n\nq4_plot\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-27-1.png){width=672}\n:::\n:::\n\n\n## 2024 Q1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq5_mean <- mean(q5_units$`Total Units`)\n\nq5_plot <- ggplot(q5_units, aes(x = `Property Type`, y = `Total Units`)) +\n  geom_bar(stat = \"identity\") +\n  labs(x = \"Property Type\", y = \"Total Units Sold\") +\n  ggtitle(\"Q1 2024\") +\n  ylim(0, 2700) +\n  theme_economist() +\n  theme(axis.text.x = element_text(angle = 90)) +\n  geom_hline(yintercept = q5_mean, color = \"navy\", linetype = \"dashed\") +\n  annotate(geom = \"text\", x = 5, y = q5_mean + 100, \n           label = paste(\"Mean:\", round(q5_mean, 2)), color = \"navy\")\n\nq5_plot\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-28-1.png){width=672}\n:::\n:::\n\n:::\n\n### Composite Plot\n\nUsing **`patchwork`** package, the plots for Q1 2023 and Q1 2024 are stacked into 1 composite plot for a quarter on quarter analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq1_plot | q5_plot\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-29-1.png){width=672}\n:::\n:::\n\n\n::: callout-tip\n## Write Up\n\nComparing bar chart plots for Q1 2023 and Q1 2024 (quarter on quarter), insights emerge regarding the mean number of units sold. In Q1 2023, the average stood at 804.67 units, edging slightly higher to 817.17 units in Q1 2024. This suggests a slight overall increase in property sales.\n\nWhile Apartments and Executive Condominiums experienced growth in sales volumes, Semi-Detached Houses and Terrace Houses maintained stable figures. Conversely, a decline was observed in the number of Condominiums and Detached Houses sold.\n\nNotably, Apartments and Condominiums, the predominant property types, experienced the most significant shifts in sales volumes, with Apartments witnessing the largest increase and Condominiums facing the most substantial decline.\n:::\n\n## Price Distribution\n\nCreate box plots for the price distribution of each private residence property type. [`geom_boxplot()`](https://ggplot2.tidyverse.org/reference/geom_boxplot.html) displays continuous value list. It visualises five summary statistics (the median, two hinges and two whiskers), and all “outlying” points individually.\n\nNote: For better visibility, **`labels`** parameter with the function **`scales::number`**, formats the y-axis labels to include thousands separators.\n\nThe code chunk below shows that in Q1 2023 for Condominiums, there are two points with value above 900 million that is affecting the rest of the box plot. Thus, the decision was made to remove that point, and replot the data without the extreme outliers.\n\n::: panel-tabset\n## Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-30-1.png){width=672}\n:::\n:::\n\n\n## Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = q1, \n       aes(x = `Property Type`, y = `Transacted Price ($)`)) + \ngeom_boxplot() +\nlabs(title = \"Q1 2023\",\n     x = \"Property Type\",\n     y = \"Transacted Price ($)\") +\nscale_y_continuous(labels = scales::number) + \ntheme_economist() +\ntheme(axis.text.x = element_text(angle = 90)) \n```\n:::\n\n:::\n\n### Drop Extreme Outlier\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq1_filtered <- q1 %>%\n  filter(`Transacted Price ($)` <= 90000000)\n```\n:::\n\n\n### Price Distribution by Property Type\n\nNote: For better visibility, **`labels`** parameter with the function **`scales::number(scale = 1e-6, suffix = \"M\")`**, formats the y-axis labels to display in the millions unit, instead of the default scientific notation.\n\n::: panel-tabset\n## Q1 2023\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq1_median <- median(q1_filtered$`Transacted Price ($)`, na.rm = TRUE)\n\nq1_box <- ggplot(data = q1_filtered, \n                aes(x = `Property Type`, y = `Transacted Price ($)`)) + \n          geom_boxplot() +\n          labs(title = \"Q1 2023\",\n                x = \"Property Type\",\n                y = \"Transacted Price ($)\") +\nscale_y_continuous(labels = scales::number_format(scale = 1e-6, suffix = \"M\"),\n                  limits = c(0, 67000000)) +\ngeom_hline(yintercept = q1_median,\n             linetype = \"dashed\", color = \"navy\") +\n  annotate(geom = \"text\",\n           x = 4, y = q1_median *10, \n           label = paste(\"Median:\", scales::number(q1_median, color = \"navy\"))) +\ntheme_economist() +\ntheme(axis.text.x = element_text(angle = 90)) \n\nq1_box\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-33-1.png){width=672}\n:::\n:::\n\n\n## Q2 2023\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq2_median <- median(q2$`Transacted Price ($)`, na.rm = TRUE)\n\nq2_box <- ggplot(data = q2, \n                aes(x = `Property Type`, y = `Transacted Price ($)`)) + \n          geom_boxplot() +\n          labs(title = \"Q2 2023\",\n                x = \"Property Type\",\n                y = \"Transacted Price ($)\") +\nscale_y_continuous(labels = scales::number_format(scale = 1e-6, suffix = \"M\"),\n                  limits = c(0, 67000000)) +\ngeom_hline(yintercept = q2_median,\n             linetype = \"dashed\", color = \"navy\") +\n  annotate(geom = \"text\",\n           x = 4, y = q2_median *10, \n           label = paste(\"Median:\", scales::number(q2_median, color = \"navy\"))) +\ntheme_economist() +\ntheme(axis.text.x = element_text(angle = 90)) \n\nq2_box\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-34-1.png){width=672}\n:::\n:::\n\n\n## Q3 2023\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq3_median <- median(q3$`Transacted Price ($)`, na.rm = TRUE)\n\nq3_box <- ggplot(data = q3, \n                aes(x = `Property Type`, y = `Transacted Price ($)`)) + \n          geom_boxplot() +\n          labs(title = \"Q3 2023\",\n                x = \"Property Type\",\n                y = \"Transacted Price ($)\") +\nscale_y_continuous(labels = scales::number_format(scale = 1e-6, suffix = \"M\"),\n                  limits = c(0, 67000000)) +\ngeom_hline(yintercept = q3_median,\n             linetype = \"dashed\", color = \"navy\") +\n  annotate(geom = \"text\",\n           x = 4, y = q3_median *10, \n           label = paste(\"Median:\", scales::number(q3_median, color = \"navy\"))) +\ntheme_economist() +\ntheme(axis.text.x = element_text(angle = 90)) \n\nq3_box\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-35-1.png){width=672}\n:::\n:::\n\n\n## Q4 2023\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq4_median <- median(q4$`Transacted Price ($)`, na.rm = TRUE)\n\nq4_box <- ggplot(data = q4, \n                aes(x = `Property Type`, y = `Transacted Price ($)`)) + \n          geom_boxplot() +\n          labs(title = \"Q4 2023\",\n                x = \"Property Type\",\n                y = \"Transacted Price ($)\") +\nscale_y_continuous(labels = scales::number_format(scale = 1e-6, suffix = \"M\"),\n                  limits = c(0, 67000000)) +\ngeom_hline(yintercept = q4_median,\n             linetype = \"dashed\", color = \"navy\") +\n  annotate(geom = \"text\",\n           x = 4, y = q4_median *10, \n          label = paste(\"Median:\", scales::number(q4_median, color = \"navy\"))) +\ntheme_economist() +\ntheme(axis.text.x = element_text(angle = 90)) \n\nq4_box\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-36-1.png){width=672}\n:::\n:::\n\n\n## Q1 2024\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq5_median <- median(q5$`Transacted Price ($)`, na.rm = TRUE)\n\nq5_box <- ggplot(data = q5, \n                aes(x = `Property Type`, y = `Transacted Price ($)`)) + \n          geom_boxplot() +\n          labs(title = \"Q1 2024\",\n                x = \"Property Type\",\n                y = \"Transacted Price ($)\") +\nscale_y_continuous(labels = scales::number_format(scale = 1e-6, suffix = \"M\"),\n                  limits = c(0, 67000000)) +\ngeom_hline(yintercept = q5_median,\n             linetype = \"dashed\", color = \"navy\") +\n  annotate(geom = \"text\",\n           x = 4, y = q5_median *10, \n          label = paste(\"Median:\", scales::number(q5_median, color = \"navy\"))) +\ntheme_economist() +\ntheme(axis.text.x = element_text(angle = 90)) \n\nq5_box\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-37-1.png){width=672}\n:::\n:::\n\n:::\n\n### Composite Plot\n\nUsing **`patchwork`** package, the plots for Q1 2023 and Q1 2024 are stacked into 1 composite plot for a quarter on quarter analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq1_box | q5_box\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-38-1.png){width=672}\n:::\n:::\n\n\n::: callout-tip\n## Write Up\n\nOverall, there is an increase in overall prices from 1.63 million to 1.69 million. However, the price variability for all property types have decreased, with fewer outliers present.\n\nThe boxplot shows Detached Houses generally have the highest transacted prices. The Q1, median, and Q3 values for this property type are all substantially higher than those of other types, indicating its premium market status.\n\nDetached Houses also exhibit the highest variability in transacted prices, although there are relatively few outliers. In contrast, Executive Condominiums demonstrate the least variability in transacted prices, with their interquartile ranges (IQR) closely aligning with their medians. This suggests a stable and consistent pricing trend. Executive Condominiums have the lowest transacted prices, indicating their appeal as an affordable option within the private housing market.\n\nApartments and Condominiums, on the other hand, show a significant number of outliers in their transacted prices, suggesting a wider range of pricing and potentially more diversity in market conditions for these property types.\n:::\n",
    "supporting": [
      "Take-home_Ex01_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}